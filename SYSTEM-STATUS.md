# Twitter Curator - 系統狀態

**最後更新**: 2025-11-10 22:45

---

## ✅ 當前配置

### 發文模式
- **引擎**: Puppeteer (直接操作瀏覽器)
- **AI 模型**: 本地 Ollama
- **主要模型**: `gpt-oss:20b`
- **Fallback 順序**:
  1. `gpt-oss:20b` (主力)
  2. `qwen2.5:14b` (備用1)
  3. `qwen2.5vl:3b` (備用2)
  4. `llama3.2:3b` (備用3)

### 排程設定
- **發文時段**: 00:00, 01:00, 02:00, 03:00, 04:00, 05:00, 06:00, 23:00
- **頻率**: 每小時 1 則原創推文 + 2 則回覆
- **執行方式**: macOS LaunchAgent

---

## 🔧 故障自動處理

### AI 模型失敗
- ✅ **已實作**: 自動切換到備用模型
- 如果 `gpt-oss:20b` 失敗 → 自動嘗試 `qwen2.5:14b`
- 如果所有模型都失敗 → 記錄錯誤，跳過此次發文

### 瀏覽器問題
- ✅ Session 持久化（chrome-user-data）
- ✅ Stealth 插件（反偵測）
- ✅ 自動登入檢查

### 網絡問題
- ⏱️ Timeout: 60秒
- 🔄 失敗不影響下次排程

---

## 📊 最近測試

**2025-11-10 22:37** - ✅ 成功
- 原創推文: 已發布
- 回覆推文: 2/2 成功
- 使用模型: gpt-oss:20b
- 執行時間: 2分32秒

---

## 🚫 已移除功能

### ii-agent 整合 (已停用)
- **原因**: 服務不穩定，Docker 依賴過重
- **替代方案**: 直接使用 Puppeteer + Ollama
- **切換時間**: 2025-11-10 22:35

---

## 🔍 故障排查

### 如果發文失敗
1. 檢查 Ollama 服務: `curl http://localhost:11434/api/tags`
2. 檢查 logs: `tail -50 ~/twitter-curator/logs/twitter-*.log`
3. 手動測試: `cd ~/twitter-curator && node twitter-curator.js`

### 如果回覆失敗
- 通常是 Twitter 反垃圾機制
- 不影響原創推文發布
- 系統會記錄並繼續

---

## 📝 維護記錄

- **2025-11-10 22:45**: 添加 AI 模型 fallback 機制
- **2025-11-10 22:35**: 從 ii-agent 切換回 Puppeteer 模式
- **2025-11-09**: 初始部署，使用 ii-agent 模式
